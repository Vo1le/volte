<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Panel Admin TIPE</title>
    <link rel="stylesheet" href="style.css">
    <body style="display: none;" id="admin-body"> <script>
        // V√©rification imm√©diate avant m√™me d'afficher le reste
        const login = prompt("Acc√®s restreint - Mot de passe :");
        if (login === "mpi2024") {
            document.getElementById('admin-body').style.display = "block";
        } else {
            alert("Acc√®s refus√©");
            window.location.href = "index.html";
        }
    </script>
</head>
<body>
    <div class="editor-container">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h1>Gestion TIPE</h1>
            <button onclick="window.location.href='index.html'" class="btn-primary" style="background:#555">Voir le site</button>
        </div>
        <hr>

        <div class="admin-grid">
            <div class="sidebar-list">
                <h3>Modifier un article</h3>
                <div id="existing-articles"></div>
            </div>

            <div>
                <h3 id="form-title">Nouvel Article</h3>
                <form id="editor-form" onsubmit="event.preventDefault(); saveArticle();">
                    <input type="text" id="inp-title" placeholder="Titre" required>
                    <div style="display:flex; gap:10px;">
                        <input type="date" id="inp-date" required style="flex:1">
                        <<div id="badge-builder">
                        <label>Balises personnalis√©es (Biblio, TP, Id√©e...)</label>
                        <div class="badge-input-row">
                            <input type="text" id="tag-text" placeholder="Texte" style="flex:2">
                            <input type="color" id="tag-color" value="#007acc" style="flex:1; height: 35px;">
                            <button type="button" onclick="addBadgeToList()" style="flex:1">+</button>
                        </div>
                        <div id="current-badges-list" style="margin-bottom: 10px;"></div>
                    </div>
                    </div>
                    
                    <textarea id="inp-summary" rows="2" placeholder="R√©sum√© (visible quand repli√©)"></textarea>
                    <textarea id="inp-content" rows="12" placeholder="Contenu HTML (<p>, <strong>, etc.)"></textarea>

                    <div style="display:flex; gap:10px; margin-top:10px;">
                        <button type="submit" class="btn-primary" style="flex:1">1. Enregistrer (M√©moire)</button>
                        <button type="button" onclick="resetForm()" style="background:#444; color:white; border:none; padding:10px;">Nouveau</button>
                    </div>
                </form>

                <div class="github-zone">
                    <h3>Publiction des modificationss</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 5px; margin-bottom: 5px;">
                        <input type="text" id="gh-username" placeholder="User GitHub">
                        <input type="text" id="gh-repo" placeholder="Nom du Repo">
                    </div>
                    <input type="password" id="gh-token" placeholder="Token (ghp_...)">
                    
                    <div style="display: flex; gap: 5px;">
                        <button onclick="pushToGitHub()" class="btn-primary" style="background: #2ea043; flex: 1;">2. POUSSER EN LIGNE</button>
                        <button onclick="saveConfig()" style="background: #333; color: #aaa; border:1px solid #555; cursor:pointer;">üíæ</button>
                    </div>
                    <p id="status-msg"></p>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
